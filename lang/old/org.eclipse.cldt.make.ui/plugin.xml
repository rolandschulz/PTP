<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin
   id="org.eclipse.fdt.make.ui"
   name="%pluginName"
   version="3.0.0"
   provider-name="%providerName"
   class="org.eclipse.fdt.make.internal.ui.MakeUIPlugin">

   <runtime>
      <library name="fdtmakeui.jar">
         <export name="*"/>
      </library>
   </runtime>
   <requires>
      <import plugin="org.eclipse.ui.ide"/>
      <import plugin="org.eclipse.ui.views"/>
      <import plugin="org.eclipse.jface.text"/>
      <import plugin="org.eclipse.ui.workbench.texteditor"/>
      <import plugin="org.eclipse.ui.editors"/>
      <import plugin="org.eclipse.core.resources"/>
      <import plugin="org.eclipse.ui"/>
      <import plugin="org.eclipse.fdt.core"/>
      <import plugin="org.eclipse.fdt.ui"/>
      <import plugin="org.eclipse.fdt.make.core"/>
      <import plugin="org.eclipse.core.runtime"/>
   </requires>
   <extension-point id="DiscoveryProfilePage" name="%discoveryProfilePage.name" schema="schema/DiscoveryProfilePage.exsd"/>


   <extension
         point="org.eclipse.ui.newWizards">
      <wizard
            name="%WizardNewCMakeProject.name"
            icon="icons/ctool16/newc_app.gif"
            category="org.eclipse.fdt.ui.newCWizards"
            class="org.eclipse.fdt.make.ui.wizards.NewMakeCProjectWizard"
            project="true"
            finalPerspective="org.eclipse.fdt.ui.CPerspective"
            id="org.eclipse.fdt.ui.wizards.NewMakeCProjectWizard">
         <description>
            %WizardNewCMakeProject.description
         </description>
      </wizard>
      <wizard
            name="%WizardConvertMakeProject.name"
            icon="icons/ctool16/convert-normal.gif"
            category="org.eclipse.fdt.ui.newCWizards"
            class="org.eclipse.fdt.make.ui.wizards.ConvertToMakeProjectWizard"
            finalPerspective="org.eclipse.fdt.ui.CPerspective"
            id="org.eclipse.fdt.ui.wizards.ConvertToMakeWizard">
         <description>
            %WizardConvertMakeProject.description
         </description>
         <selection
               class="org.eclipse.core.resources.IProject">
         </selection>
      </wizard>
<!-- For C++ Wizards -->
      <wizard
            name="%WizardNewCCMakeProject.name"
            icon="icons/ctool16/newcc_app.gif"
            category="org.eclipse.fdt.ui.newCCWizards"
            class="org.eclipse.fdt.make.ui.wizards.NewMakeCCProjectWizard"
            project="true"
            finalPerspective="org.eclipse.fdt.ui.CPerspective"
            id="org.eclipse.fdt.make.ui.wizards.NewMakeCCProjectWizard">
         <description>
            %WizardNewCCMakeProject.description
         </description>
      </wizard>
      <wizard
            name="%WizardConvertMakeProject.name"
            icon="icons/ctool16/convert-normal.gif"
            category="org.eclipse.fdt.ui.newCCWizards"
            class="org.eclipse.fdt.make.ui.wizards.ConvertToMakeProjectWizard"
            finalPerspective="org.eclipse.fdt.ui.CPerspective"
            id="org.eclipse.fdt.ui.wizards.ConvertToMakeWizard">
         <description>
            %WizardConvertMakeProject.description
         </description>
         <selection
               class="org.eclipse.core.resources.IProject">
         </selection>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            objectClass="org.eclipse.fdt.core.model.ICProject"
            adaptable="false"
            id="org.eclipse.fdt.make.ui.popupMenu.CViewContribution">
         <action
               label="%ActionMakeCreateTarget.label"
               class="org.eclipse.fdt.make.ui.actions.CreateTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewCreateTargetAction">
         </action>
         <action
               label="%ActionMakeBuildTarget.label"
               class="org.eclipse.fdt.make.ui.actions.BuildTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewBuildTargetAction">
         </action>
         <filter
               name="projectNature"
               value="org.eclipse.fdt.make.core.makeNature">
         </filter>
      </objectContribution>
      <objectContribution
            objectClass="org.eclipse.fdt.core.model.ICContainer"
            adaptable="false"
            id="org.eclipse.fdt.make.ui.popupMenu.CViewContribution">
         <action
               label="%ActionMakeCreateTarget.label"
               class="org.eclipse.fdt.make.ui.actions.CreateTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewCreateTargetAction">
         </action>
         <action
               label="%ActionMakeBuildTarget.label"
               class="org.eclipse.fdt.make.ui.actions.BuildTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewBuildTargetAction">
         </action>
         <filter
               name="projectNature"
               value="org.eclipse.fdt.make.core.makeNature">
         </filter>
      </objectContribution>
      <objectContribution
            objectClass="org.eclipse.fdt.core.model.ITranslationUnit"
            adaptable="false"
            id="org.eclipse.fdt.make.ui.popupMenu.CViewContribution">
         <action
               label="%ActionMakeCreateTarget.label"
               class="org.eclipse.fdt.make.ui.actions.CreateTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewCreateTargetAction">
         </action>
         <action
               label="%ActionMakeBuildTarget.label"
               class="org.eclipse.fdt.make.ui.actions.BuildTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewBuildTargetAction">
         </action>
         <filter
               name="projectNature"
               value="org.eclipse.fdt.make.core.makeNature">
         </filter>
      </objectContribution>
      <objectContribution
            objectClass="org.eclipse.fdt.core.model.IBinary"
            adaptable="false"
            id="org.eclipse.fdt.make.ui.popupMenu.CViewContribution">
         <action
               label="%ActionMakeCreateTarget.label"
               class="org.eclipse.fdt.make.ui.actions.CreateTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewCreateTargetAction">
         </action>
         <action
               label="%ActionMakeBuildTarget.label"
               class="org.eclipse.fdt.make.ui.actions.BuildTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewBuildTargetAction">
         </action>
         <filter
               name="projectNature"
               value="org.eclipse.fdt.make.core.makeNature">
         </filter>
      </objectContribution>
      <objectContribution
            objectClass="org.eclipse.fdt.core.model.IArchive"
            adaptable="false"
            id="org.eclipse.fdt.make.ui.popupMenu.CViewContribution">
         <action
               label="%ActionMakeCreateTarget.label"
               class="org.eclipse.fdt.make.ui.actions.CreateTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewCreateTargetAction">
         </action>
         <action
               label="%ActionMakeBuildTarget.label"
               class="org.eclipse.fdt.make.ui.actions.BuildTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewBuildTargetAction">
         </action>
         <filter
               name="projectNature"
               value="org.eclipse.fdt.make.core.makeNature">
         </filter>
      </objectContribution>
      <objectContribution
            objectClass="org.eclipse.core.resources.IResource"
            adaptable="false"
            id="org.eclipse.fdt.make.ui.popupMenu.NavigatorContribution">
         <action
               label="%ActionMakeBuildTarget.label"
               class="org.eclipse.fdt.make.ui.actions.BuildTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.NavigatorBuildTargetAction">
         </action>
         <action
               label="%ActionMakeCreateTarget.label"
               class="org.eclipse.fdt.make.ui.actions.CreateTargetAction"
               menubarPath="buildGroup"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.CViewCreateTargetAction">
         </action>
         <filter
               name="projectNature"
               value="org.eclipse.fdt.make.core.makeNature">
         </filter>
      </objectContribution>
   </extension>
   <extension
      point="org.eclipse.ui.commands">
      <scope
            name="%scope.makefileEditor.name"
            parent="org.eclipse.ui.textEditorScope"
            description="%makefileEditor.description"
            id="org.eclipse.fdt.make.ui.makefileEditorScope">
      </scope>
      <command
            name="%CommandTargetBuild.name"
            description="%CommandTargetBuild.description"
            category="org.eclipse.ui.category.project"
            id="org.eclipse.fdt.make.ui.targetBuildCommand">
      </command>
      <command
            name="%CommandTargetCreate.name"
            description="%CommandTargetCreate.description"
            category="org.eclipse.ui.category.project"
            id="org.eclipse.fdt.make.ui.targetCreateCommand">
      </command>
<!-- Makefile Editor keybindings  -->
      <category
            name="%category.source.name"
            description="%category.source.description"
            id="org.eclipse.fdt.make.ui.category.source">
      </category>
      <command
            name="%ActionDefinition.comment.name"
            description="%ActionDefinition.comment.description"
            category="org.eclipse.fdt.make.ui.category.source"
            id="org.eclipse.fdt.make.ui.edit.text.makefile.comment">
      </command>
      <keyBinding
            string="Ctrl+/"
            scope="org.eclipse.fdt.make.ui.makefileEditorScope"
            command="org.eclipse.fdt.make.ui.edit.text.makefile.comment"
            configuration="org.eclipse.ui.defaultAcceleratorConfiguration">
      </keyBinding>
      <command
            name="%ActionDefinition.uncomment.name"
            description="%ActionDefinition.uncomment.description"
            category="org.eclipse.fdt.make.ui.category.source"
            id="org.eclipse.fdt.make.ui.edit.text.makefile.uncomment">
      </command>
      <keyBinding
            string="Ctrl+\"
            scope="org.eclipse.fdt.make.ui.makefileEditorScope"
            command="org.eclipse.fdt.make.ui.edit.text.makefile.uncomment"
            configuration="org.eclipse.ui.defaultAcceleratorConfiguration">
      </keyBinding>
      <command
            name="%ActionDefinition.opendecl.name"
            category="org.eclipse.fdt.make.ui.category.source"
            description="%ActionDefinition.opendecl.description"
            id="org.eclipse.fdt.make.ui.edit.text.makefile.opendecl">
      </command>
      <keyBinding
            string="F3"
            scope="org.eclipse.fdt.make.ui.makefileEditorScope"
            command="org.eclipse.fdt.make.ui.edit.text.makefile.opendecl"
            configuration="org.eclipse.ui.defaultAcceleratorConfiguration">
      </keyBinding>
      
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="%PreferenceMake.name"
            category="org.eclipse.fdt.ui.preferences.CPluginPreferencePage"
            class="org.eclipse.fdt.make.internal.ui.preferences.MakePreferencePage"
            id="org.eclipse.fdt.make.ui.preferences.MakePreferencePage">
      </page>
      <page
            name="%PreferenceMakeProject.name"
            category="org.eclipse.fdt.make.ui.preferences.MakePreferencePage"
            class="org.eclipse.fdt.make.internal.ui.preferences.NewMakeProjectPreferencePage"
            id="org.eclipse.fdt.make.ui.preferences.MakeProjectPreferencePage">
      </page>
      <page
            name="%PreferenceMakefileEditor.name"
            category="org.eclipse.fdt.make.ui.preferences.MakePreferencePage"
            class="org.eclipse.fdt.make.internal.ui.preferences.MakefileEditorPreferencePage"
            id="org.eclipse.fdt.make.ui.preferences.MakeFileEditorPreferencePage">
      </page>
      <page
            name="%PreferenceMakefileSettings.name"
            category="org.eclipse.fdt.make.ui.preferences.MakeFileEditorPreferencePage"
            class="org.eclipse.fdt.make.internal.ui.preferences.MakefileSettingsPreferencePage"
            id="org.eclipse.fdt.make.ui.preferences.MakefileSettingPreferencePage">
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            objectClass="org.eclipse.core.resources.IProject"
            adaptable="true"
            name="%PropertyMakeProject.name"
            class="org.eclipse.fdt.make.internal.ui.properties.MakePropertyPage"
            id="org.eclipse.fdt.make.ui.properties.MakePropertyPage">
         <filter
               name="nature"
               value="org.eclipse.fdt.make.core.makeNature">
         </filter>
      </page>
      <page
            objectClass="org.eclipse.core.resources.IProject"
            adaptable="true"
            name="%ProjectPathProperties.name"
            nameFilter="*"
            class="org.eclipse.fdt.internal.ui.dialogs.cpaths.CPathPropertyPage"
            id="org.eclipse.fdt.internal.ui.dialogs.cpath.CPathPropertyPage">
         <filter
               name="nature"
               value="org.eclipse.fdt.make.core.makeNature">
         </filter>
      </page> 
      <!-- Comment this out for now, in the future do ICElementActionFilter to filter things out-->   
      <!--page
            objectClass="org.eclipse.fdt.core.model.ICContainer"
            adaptable="true"
            name="%IncludeSymbolProperties.name"
            class="org.eclipse.fdt.internal.ui.dialogs.cpaths.IncludesSymbolsPropertyPage"
            id="org.eclipse.fdt.internal.ui.dialogs.cpath.IncludeSymbolsPropertyPage">
         <filter
               name="nature"
               value="org.eclipse.fdt.make.core.makeNature">
         </filter>
      </page-->
      <page
            objectClass="org.eclipse.core.resources.IProject"
            adaptable="true"
            name="%IncludeSymbolProperties.name"
            class="org.eclipse.fdt.internal.ui.dialogs.cpaths.IncludesSymbolsPropertyPage"
            id="org.eclipse.fdt.internal.ui.dialogs.cpath.IncludeSymbolsPropertyPage">
         <filter
               name="nature"
               value="org.eclipse.fdt.make.core.makeNature">
         </filter>
      </page>
        
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <category
            name="%ViewCatagoryMake.name"
            id="org.eclipse.fdt.make.ui">
      </category>
      <view
            name="%ViewMake.name"
            icon="icons/cview16/make_target.gif"
            category="org.eclipse.fdt.make.ui"
            class="org.eclipse.fdt.make.ui.views.MakeView"
            id="org.eclipse.fdt.make.ui.views.MakeView">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            label="%ActionSetUpdateMake.label"
            id="org.eclipse.fdt.make.ui.updateActionSet">
         <action
               label="%ActionMakeUpdate.label"
               icon="icons/ctool16/update_old.gif"
               tooltip="%ActionMakeUpdate.tooltip"
               class="org.eclipse.fdt.make.ui.actions.UpdateMakeProjectAction"
               toolbarPath="Normal"
               id="org.eclipse.fdt.make.ui.UpdateMakeAction">
            <enablement>
               <and>
                  <not>
                     <objectState
                           value="org.eclipse.fdt.make.core.makeNature"
                           name="projectNature">
                     </objectState>
                  </not>
                  <objectState
                        value="org.eclipse.fdt.core.cnature"
                        name="projectNature">
                  </objectState>
               </and>
            </enablement>
         </action>
      </actionSet>
      <actionSet
            label="%ActionSetMake.label"
            id="org.eclipse.fdt.make.ui.makeTargetActionSet">
         <action
               definitionId="org.eclipse.fdt.make.ui.targetBuildCommand"
               label="%ActionMakeBuildTarget.label"
               class="org.eclipse.fdt.make.ui.actions.BuildTargetAction"
               menubarPath="project/additions"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.makeTargetAction">
            <enablement>
               <or>
                  <objectClass
                        name="org.eclipse.core.resources.IContainer">
                  </objectClass>
                  <objectClass
                        name="org.eclipse.fdt.core.model.ICContainer">
                  </objectClass>
                  <objectClass
                        name="org.eclipse.fdt.core.model.ICProject">
                  </objectClass>
               </or>
            </enablement>
         </action>
         <action
               definitionId="org.eclipse.fdt.make.ui.targetCreateCommand"
               label="%ActionMakeCreateTarget.label"
               class="org.eclipse.fdt.make.ui.actions.CreateTargetAction"
               menubarPath="project/additions"
               enablesFor="1"
               id="org.eclipse.fdt.make.ui.createTargetAction">
            <enablement>
               <or>
                  <objectClass
                        name="org.eclipse.core.resources.IContainer">
                  </objectClass>
                  <objectClass
                        name="org.eclipse.fdt.core.model.ICContainer">
                  </objectClass>
                  <objectClass
                        name="org.eclipse.fdt.core.model.ICProject">
                  </objectClass>
               </or>
            </enablement>
         </action>
      </actionSet>
   </extension>
   
   <!-- Makefile Editor extensions.  -->
   <extension
         id="org.eclipse.fdt.make.editor"
         name="MakefileEditor"
         point="org.eclipse.ui.editors">
      <editor
            name="%MakefileEditor.name"
            icon="icons/obj16/makefile.gif"
            extensions="mk"
            filenames="Makefile,makefile,GNUMakefile"
            contributorClass="org.eclipse.fdt.make.internal.ui.editor.MakefileEditorActionContributor"
            class="org.eclipse.fdt.make.internal.ui.editor.MakefileEditor"
            id="org.eclipse.fdt.make.editor">
      </editor>
   </extension>
   <extension
         id="org.eclipse.fdt.make.ui.MakefileDocumentFactory"
         name="%MakefileDocumentFactory.name"
         point="org.eclipse.core.filebuffers.documentCreation">
      <factory
            extensions="*"
            class="org.eclipse.fdt.make.internal.ui.editor.MakefileDocumentFactory">
      </factory>
   </extension>
   <extension
         id="org.eclipse.fdt.make.ui.MakefileDocumentSetupParticipant"
         name="%MakefileDocumentSetupParticipant.name"
         point="org.eclipse.core.filebuffers.documentSetup">
      <participant
            extensions="*"
            class="org.eclipse.fdt.make.internal.ui.editor.MakefileDocumentSetupParticipant">
      </participant>
   </extension>
    
   
   <extension
         point="org.eclipse.ui.startup">
      <startup
            class="org.eclipse.fdt.make.internal.ui.MakeStartup">
      </startup>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.eclipse.fdt.ui.CPerspective">
         <view
               relative="org.eclipse.ui.views.ContentOutline"
               visible="true"
               relationship="stack"
               id="org.eclipse.fdt.make.ui.views.MakeView">
         </view>
         <viewShortcut
               id="org.eclipse.fdt.make.ui.views.MakeView">
         </viewShortcut>
         <actionSet
               id="org.eclipse.fdt.make.ui.makeTargetActionSet">
         </actionSet>
      </perspectiveExtension>
   </extension>


   <extension
         point="org.eclipse.fdt.ui.PathContainerPage">
      <PathContainerPage
            class="org.eclipse.fdt.make.ui.dialogs.DiscoveredPathContainerPage"
            name="%DiscoveredScannerInfoContainer.name"
            id="org.eclipse.fdt.make.core.DISCOVERED_SCANNER_INFO"/>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer class="org.eclipse.fdt.make.internal.ui.MakeUIPreferenceInitializer"/>
   </extension>
   <extension
         point="org.eclipse.fdt.make.ui.DiscoveryProfilePage">
      <profilePage
            class="org.eclipse.fdt.make.ui.dialogs.GCCPerProjectSCDProfilePage"
            name="%GCCPerProjectProfile.name"
            profileId="org.eclipse.fdt.make.core.GCCStandardMakePerProjectProfile"/>
   </extension>
   <extension
         point="org.eclipse.fdt.make.ui.DiscoveryProfilePage">
      <profilePage
            class="org.eclipse.fdt.make.ui.dialogs.GCCPerFileSCDProfilePage"
            name="%GCCPerFileProfile.name"
            profileId="org.eclipse.fdt.make.core.GCCStandardMakePerFileProfile"/>
   </extension></plugin>
