<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<title>Running a Parallel Application</title>
	<link rel="stylesheet" type="text/css" href="help.css">
</head>

<body>
<h1>SLURM Resource Manager for PTP</h1>
<h2><A name=running></A>Running a Parallel Application</h2>
<p>Once an application has been compiled, the first step in running the application is to be sure the resource manager for 
SLURM is running on a service node in the SLURM cluster where you intend to start the application. To do this, check the resource 
manager's entry in the resource manager view. The icon for the resource manager should be green. If it is not green, then 
right click over the resource manager's name and select <b>Start resource manager</b> from the popup menu to start the
resource manager.</p>
<p>Before running an application, it must have a launch configuration defined for it. A launch configuration contains 
all of the settings required to run the application. The values entered in a launch configuration are saved so that the
next time the application is run using the same launch configuration, those values do not need to be entered again.</p>
<p>To create a launch configuration, click the <b>Run</b> menu in the Eclipse menubar and select <b>Run Configuration...</b>. 
Alternatively, click the dropdown next to the run icon in the Eclipse toolbar and select Run Configuration.... 
When the run dialog is displayed, right click over <b>Parallel Application</b> and click <b>New</b> from the menu. 
This will create a new launch configuration. Set its name to the desired value. Select the <b>Application</b> tab and fill in
the name of the project and the application program.</p>
<img src="images/slurm_run_application_1.png">

<p>Make sure that the debugger tab has an appropriate debugger selected.
Fill in the Arguments tab with any application program arguments. Fill in the Environment tab with any environment variable
settings required by the application.</p>

<p>The <b>Resources</b> tab is the tab where invocation options unique to SLURM are entered. 
<p>
<img src="images/slurm_run_application_2.png">

<p>Make sure the correct resource manager is selected in the dropdown list.
The meaning of each field in the <b>Launch Attributes</b> is described as follows:

<ul>
<li>Number of Tasks(-n): Specifying the number of tasks in a parallel job (<b>REQUIRED</b>).</li>
<li>Number of Nodes(-N): Specifying the minimum number of nodes required by a parallel job (<b>OPTIONAL</b>).
 By default, if not specified, the SLURM resource management system will allocate nodes according to the task number
 and its configuration.</li>
 <li>Partition(-p): Specifying the name of the partition where the job will launch (<b>OPTIONAL</b>). 
 If not specified, the SLURM resource management system will allocate job resources from the default partition according to its configuration.</li>
<li>TimeLimit(-t): Specifying the time limit (in minutes) of the job (<b>OPTIONAL</b>).
 If not specified, the SLURM resource management system will set the job time limit to the target partition's default time limit. 
 NOTE: if the run time of a job exceeds this time limit,  SLURM resource management system will KILL the job and release the nodes allocated to it. </li>
<li>Requested NodeList(-w): Specifying the list of nodes that MUST be included for this job (<b>OPTIONAL</b>). 
If not specified, the SLURM resource management system will try to allocate IDLE nodes currently available to this job.
If the required node(s) are not available by now, this job will be in PENDING state until the requested node is available.</li>
<li>Excluded NodeList(-x): Specifying the list of nodes that MUST NOT be included for this job (<b>OPTIONAL</b>).</li>
</ul>


<p>When <b>Run</b> is selected the job launch request is passed to the SLURM Resource manager proxy and then submitted 
to SLURM resource management system for execution. When the job starts it will appear in the PTP Jobs List view.</p>
<img src="images/slurm_run_application_3.png">

<h3><a name=debugging></a>Debugging a Parallel Application</h3>
You can debug a parallel application using the built in PTP parallel debugger. You can do this using the same run configuration 
that you use for running your application. You can debug the application by clicking the debug icon 
in the Eclipse toolbar or by selecting <b>Debug Configurations</b> from the Eclipse run menu. Before you debug a parallel application 
for the first time, you should make sure that you have properly configured the debugger by opening
the run configuration and selecting the debug tab then making sure the debugger settings are correct.</p>
<p>
For more information on setting up the PTP Parallel Debugger launch, see
<a href="PLUGINS_ROOT/org.eclipse.ptp.doc.user/html/04pLaunchConfigDebug.html#debugger">Launching Parallel Programs for Debugging</a>.


<p><a href="toc.html">Back to Table of Contents</a>
</body>
</html>