<html>
<head>
<title>Launching Parallel Programs for Debugging</title>
<link rel="stylesheet" type="text/css" href="help.css">
<script type="text/javascript" src="thumb.js"> </script>
</head>
<body>

<h1 id="top">Launching Parallel Programs for Debugging</h1>
<p>This section describes how to launch a parallel program that you wish to debug. A <a href="06parDebugging.html">description of how to actually debug the application</a> is provided in another section. 

<p>If you have already created <a href="03pLaunchConfig.html">normal parallel launch configuration</a> and configured the <b>Debug tab</b> you are ready to launch a debug session. Simply select <b>Run &gt; Debug</b>, the debug icon, or choose a configuration from the debug icon menu on the toolbar.</p>

<p>Topics  include:</p>
<ol>
<li><a href="#create">Creating a parallel debug launch configuration</a></li>
<li><a href="#resources">Completing the <b>Resources tab</b></a></li>
<li><a href="#application">Completing the <b>Application tab</b></a></li>
<li><a href="#debugger">Completing the <b>Debugger tab</b></a></li>
<li><a href="#arguments">Completing the <b>Arguments tab</b></a></li>
<li><a href="#launch">Launching the application</b></a></li>
</ol>

<h2 id="create">Step 1: Create a parallel debug launch configuration</h2>
<p>Note: At least one resource manager must have been configured and started before it is possible to create
a parallel launch configuration.
<ol>
<li><p>Open the run configuration dialog using <b>Run &gt; Open Debug Dialog...</b>
or click the debug icon menu on the tool bar and select <b>Open Debug Dialog...</b></p><p><br></p></li>
<li><p>Create a new parallel launch configuration by clicking <b>Parallel Application</b> and
then clicking on the <b>New</b> button icon.</p><p><br></p>
<p><script> thumb("images/04launch1.png") </script></p><p><br></p>
</li>
<li><p>Enter a name for the configuration in the <b>Name:</b> field. Here we use the same name as the project.</p></li>
</ol>

<h2 id="resources">Step 2: Complete the Resources tab</h2>
<p>The <b>Resources tab</b> is used to specify the resources required for the job execution. The contents of this tab will vary for different resource managers. This description only applys to the Open MPI and MPICH2 resource managers.</p>
<ol>
<li><p>Select a resource manager from the drop-down (Note: a resource manager
must be running for it to appear in the list. If there is only one resource manager running, then it will be
automatically selected.)</p><p><br></p></li>
<li><p>Some resource managers require a job queue to be selected using a <b>Queue:</b> drop-down. If there is
no drop-down, then this resource manager does not support multiple queues.</p><p><br></p></li>
<li><p>Enter a value in the <b>Number of Processes</b> field. This field must be greater than 0 in 
order to launch a job, and specifies the number of processes to use for the application launch.</p><p><br></p>
<p><script> thumb("images/03launchResTab.png") </script></p>
</li>
</ol>

<h2 id="application">Step 3: Complete the <b>Application</b> tab</h2>
<p>The <b>Application tab</b> is used to specify the application (executable) to be launched.</p>
<ol>
<li><p>Ensure that the correct the <b>Parallel Project</b> is selected. This is the project containing the source
and binaries for the application.</p><p><br></p></li>
<li><p>Select the <b>Application Program</b> (executable) that you wish to launch by clicking on 
the <b>Browse</b> button. If you are running the application on the local machine, you will need 
to navigate to the workspace and project directory. In this case, and if you are using a debug 
configuration, the executable will be located in the Debug folder of your project.</p><p><br></p>
<p>If you are running the application on a remote machine you will need to navigate to the location 
of the executable on that machine. If the project was <i>built</i> locally, then you will have to 
manually copy the executable to the remote machine first.</p><p><br></p>
<p><script> thumb("images/03launch2.png") </script></p><p><br></p>
</li>
<li><p>If you wish to have the output from all processes in a single output console,
check the <b>Display combined output in a console view</b> option.</p><p><br></p>
</li>
</ol>


<h2 id="debugger">Step 4: Complete the Debugger tab</h2>
<p></p>
<ol>
<li><p>Select a debugger from the <b>Debugger</b> drop-down. This is the debugger that will control 
the parallel debug session. Currently only <b>SDM</b> is supported (SDM stands for Scalable Debug 
Manager), so select this.</p><p><br></p></li>
<li><p>If you wish the debugger to automatically suspend the application on launch, make sure 
<b>Stop in main() on startup</b> is checked</p><p><br></p></li>
<li><p>Under Debugger options, make sure that the path to debugger executable is correct.</p><p><br></p>
<p>If you are debugging on the local machine, this path should point to the <code>sdm</code> executable in your Ecilpse installation's <code>plugins/org.eclipse.ptp.<i>os.arch_version</i>/bin</code> directory,
where <code><i>os.arch_version</i></code> is your operating system (<code>linux</code>, <code>macosx</code>, or <code>aix</code>), 
architecture (<code>x86</code>, <code>x86_64</code>, or <code>ppc</code>), and version number of the plugin (e.g. <code>2.0.0.200803261107</code>).</p><p><br></p>
<p>If you are debugging remotely, then this path will be the path to where the <code>sdm</code> executable 
was installed on the remote machine.</p><p><br></p></li>
<li><p>Set the <b>Debugger session address</b>. This is the address that the debugger will connect 
to when it starts, and will depend on where you are launching the application:</p><p><br></p>
<ul>
<li><p>If you are launching onto the local machine, use <code>localhost</code> (some systems will 
accept <code>localhost.localdomain</code>).</p><p><br></p></li>
<li><p>If you are launching onto a remote machine without using port forwarding (as specified in the 
resource manager configuration), then this should be the address of the local machine (the one 
running Eclipse) <i>as viewed from one of the nodes of the parallel machine</i>. Note that if the 
parallel machine configuration precludes nodes accessing your local machine, you will need to 
reconfigure the resource manager to use port forwarding.</p><p><br></p></li>
<li><p>If you are launching onto a remote machine using port forwarding, this is the address of the 
remote machine <i>as viewed from one of its nodes</i>. Note that you will need to have the <code>GatewayPorts</code> option set to <code>yes</code>
in the <code>sshd</code> configuration file on the remote system (see the manual page for <code>sshd_config</code>) for this to work.</p><p><br></p>
<p><script> thumb("images/04launch5.png") </script></p>
</li>
</ul>

</li>
</ol>

<h2 id="arguments">Step 5: Complete the Arguments tab</h2>
<p></p>
<ol>
<li><p>Enter any <i>program</i> arguments.</p><p><br></p></li>
<li><p>Select a different working directory if desired. Note that for a remote launch, this will be the location of the exeuction on the remote machine.</p></li>
</ol>

<h2 id="launch">Step 6: Launching the application</h2>
<p>The launch configuration is now complete. Click on the <b>Debug</b> button to start debugging the program. Eclipse will, by default, switch to the <b>PTP Debug perspective</b>, and you can begin debugging the application.
The <a href="06parDebugging.html">Parallel Debugging</a> section will show you how to
use the debugger.</p>



<p><a href="#top">Back to Top</a> | <a href="toc.html">Back to Table of Contents</a>

</body>
</html>




