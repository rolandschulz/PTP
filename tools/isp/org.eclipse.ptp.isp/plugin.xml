<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>

<plugin>

   <!-- PopUpMenus extension point and contributions (nameFilter="*.c") -->
   <extension 
        point="org.eclipse.ui.popupMenus">
        
      <!-- Verification Menu Group -->  
      <objectContribution
            adaptable="true"
            id="org.eclipse.ptp.isp.verificationPopupMenu"
            nameFilter="*.c*"
            objectClass="org.eclipse.core.resources.IFile">
         <menu
               label="ISP"
               path="additions"
               id="verificationMenu">
            <separator name="verificationGroup"/>
         </menu>
         <action
               class="org.eclipse.ptp.isp.popup.actions.AnalyzePopUpAction"
               enablesFor="1"
               id="org.eclipse.ptp.isp.analyzePopup"
               label="Formally Verify MPI Program"
               menubarPath="verificationMenu/verificationGroup"
               icon="icons/trident.gif">
         </action>
      </objectContribution>
      
      <!-- Logfile Menu Group -->        
      <objectContribution
            adaptable="true"
            id="org.eclipse.ptp.isp.logfilePopupMenu"
            nameFilter="*.log*"
            objectClass="org.eclipse.core.resources.IFile">
         <menu
               label="ISP"
               path="additions"
               id="logfileMenu">
            <separator name="logfileGroup"/>
         </menu>
         <action
               class="org.eclipse.ptp.isp.popup.actions.UiLogFilePopUpAction"
               enablesFor="1"
               id="org.eclipse.ptp.isp.javaguiLogPopup"
               label="Examine MPI Calls Graphically"
               menubarPath="logfileMenu/logfileGroup"
               icon="icons/ui-trident.gif">
         </action>
         <action
               class="org.eclipse.ptp.isp.popup.actions.AnalyzeLogFilePopUpAction"
               enablesFor="1"
               id="org.eclipse.ptp.isp.AnalyzeFromLogPopUpAction"
               label="Analyze Log File"
               menubarPath="logfileMenu/logfileGroup"
               icon="icons/trident.gif">
         </action>
      </objectContribution>
   </extension>   

   
   <!-- Preferences extension point and Initializer -->
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="ISP"
            class="org.eclipse.ptp.isp.preferences.IspPreferencePage"
            id="org.eclipse.ptp.isp.preferences.IspPreferences">
      </page>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="org.eclipse.ptp.isp.preferences.PreferenceInitializer">
      </initializer>
   </extension>
   

   <!-- Bindings extension point (key bindings) -->
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="org.eclipse.ptp.isp.commands.numprocsCommand"
            contextId="org.eclipse.ui.contexts.window"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+5">
      </key>
      <key
            commandId="org.eclipse.ptp.isp.commands.analyzeCommand"
            contextId="org.eclipse.ui.contexts.window"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+6">
      </key>
      <key
            commandId="org.eclipse.ptp.isp.commands.consoleCommand"
            contextId="org.eclipse.ui.contexts.window"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="CTRL+7">
      </key>
   </extension>

    
   <!-- Commands extension point and contributions ()for menus & toolbar -->
   <extension
         point="org.eclipse.ui.commands">
      <category
            id="org.eclipse.ptp.isp.commands.category"
            name="ISP Commands Category">
      </category>
      <command
            categoryId="org.eclipse.ptp.isp.commands.category"
            id="org.eclipse.ptp.isp.commands.numprocsCommand"
            name="Set Number of Processes">
      </command>
      <command
            categoryId="org.eclipse.ptp.isp.commands.category"
            id="org.eclipse.ptp.isp.commands.analyzeCommand"
            name="Formally Verify MPI Program">
      </command>
      <command
            categoryId="org.eclipse.ptp.isp.commands.category"
            id="org.eclipse.ptp.isp.commands.consoleCommand"
            name="View ISP Console Output">
      </command>
   </extension>
   
       
   <!-- Handlers extension point -->
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="org.eclipse.ptp.isp.handlers.IspHandler"
            commandId="org.eclipse.ptp.isp.commands.numprocsCommand">
      </handler>
      <handler
            class="org.eclipse.ptp.isp.handlers.IspHandler"
            commandId="org.eclipse.ptp.isp.commands.analyzeCommand">
      </handler>
      <handler
            class="org.eclipse.ptp.isp.handlers.IspHandler"
            commandId="org.eclipse.ptp.isp.commands.consoleCommand">
      </handler>
   </extension>
   
   
   <!-- Menus extension point and contributions (toolbar buttons) -->
   <extension point="org.eclipse.ui.menus">
     <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
        <toolbar id="org.eclipse.ptp.isp.toolbar">
        </toolbar>
     </menuContribution>
     <menuContribution locationURI="toolbar:org.eclipse.ptp.isp.toolbar?after=additions">
            <command
                  commandId="org.eclipse.ptp.isp.commands.analyzeCommand"
                  icon="icons/trident.gif"
                  id="org.eclipse.ptp.isp.toolbar.refCommand"
                  style="pulldown"
                  tooltip="Formally Verify MPI Program">
            </command>
      </menuContribution>
      <menuContribution locationURI="menu:org.eclipse.ptp.isp.toolbar.refCommand?after=additions">
            <command
                  commandId="org.eclipse.ptp.isp.commands.numprocsCommand"
                  icon="icons/triple-trident.gif"
                  id="org.eclipse.ptp.isp.toolbar.menu.command1">
            </command>
            <command
                  commandId="org.eclipse.ptp.isp.commands.analyzeCommand"
                  icon="icons/trident.gif"
                  id="org.eclipse.ptp.isp.toolbar.menu.command2">
            </command>
            <command
                  commandId="org.eclipse.ptp.isp.commands.consoleCommand"
                  icon="icons/magnified-trident.gif"
                  id="org.eclipse.ptp.isp.toolbar.menu.command3">
            </command>
      </menuContribution>
    </extension>
    
    
   <!-- Menu extension point and contributions (menu items) -->
   <extension
        point="org.eclipse.ui.menus">
        <menuContribution locationURI="menu:org.eclipse.ui.main.menu?after=additions">
             <menu
               label="&amp;ISP"
               id="org.eclipse.ptp.isp.menu">
             </menu>
        </menuContribution>
  </extension>
  <extension
         point="org.eclipse.ui.menus">
      <menuContribution
              locationURI="menu:org.eclipse.ptp.isp.menu?after=additions">
            <command
                  commandId="org.eclipse.ptp.isp.commands.numprocsCommand"
                  id="org.eclipse.ptp.isp.menu.command1"
                  icon="icons/triple-trident.gif">
            </command>
            <command
                  commandId="org.eclipse.ptp.isp.commands.analyzeCommand"
                  id="org.eclipse.ptp.isp.toolbar.menu.command2"
                  icon="icons/trident.gif">
            </command>
            <command
                  commandId="org.eclipse.ptp.isp.commands.consoleCommand"
                  id="org.eclipse.ptp.isp.menu.command3"
                  icon="icons/magnified-trident.gif">
            </command>
      </menuContribution>
    </extension>

    
   <!-- Views extension point -->
   <extension
         point="org.eclipse.ui.views">
      <category
            name="ISP"
            id="org.eclipse.ptp.isp">
      </category>
      <view
            name="ISP Console"
            icon="icons/magnified-trident.gif"
            category="org.eclipse.ptp.isp"
            class="org.eclipse.ptp.isp.views.ISPConsole"
            id="org.eclipse.ptp.isp.views.ISPConsole">
      </view>
      <view
            name="ISP Analyzer"
            icon="icons/trident.gif"
            category="org.eclipse.ptp.isp"
            class="org.eclipse.ptp.isp.views.ISPAnalyze"
            id="org.eclipse.ptp.isp.views.ISPAnalyze">
      </view>
   </extension>
   
 </plugin>
