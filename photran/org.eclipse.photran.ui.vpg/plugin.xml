<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <!--==============-->
   <!-- Refactorings -->
   <!--==============-->

   <extension
         point="org.eclipse.rephraserengine.ui.refactoring.refactorings">
      <resourceFilter class="org.eclipse.photran.internal.ui.vpg.PhotranResourceFilter" />

      <!-- Define the Refactor menu -->

      <group><!-- Rename and Move -->
         <editorRefactoring command="org.eclipse.photran.ui.RenameRefactoringCommand" />
      </group>
      <group><!-- Extract XYZ -->
         <editorRefactoring command="org.eclipse.photran.ui.ExtractProcedureRefactoringCommand" />
         <editorRefactoring command="org.eclipse.photran.ui.ExtractLocalVariableRefactoringCommand" />
      </group>
      <group>
         <resourceRefactoring
             class="org.eclipse.photran.internal.core.refactoring.IntroImplicitNoneRefactoring"
         />
         <editorRefactoring
             class="org.eclipse.photran.internal.core.refactoring.MakePrivateEntityPublicRefactoring"
         />
      </group>
      <group>
         <editorRefactoring
             class="org.eclipse.photran.internal.core.refactoring.EncapsulateVariableRefactoring"
         />
      </group>
      <group><!-- Refactorings for USE statements -->
         <editorRefactoring
             class="org.eclipse.photran.internal.core.refactoring.AddOnlyToUseStmtRefactoring"
             inputPage="org.eclipse.photran.internal.ui.refactoring.AddOnlyToUseStmtInputPage"
         />
         <editorRefactoring
             class="org.eclipse.photran.internal.core.refactoring.MinOnlyListRefactoring"
         />
      </group>
      <group><!-- Refactorings for COMMON blocks -->
         <editorRefactoring
             class="org.eclipse.photran.internal.core.refactoring.CommonVarNamesRefactoring"
             inputPage="org.eclipse.photran.internal.ui.refactoring.CommonVarNamesInputPage"
         />
         <editorRefactoring
             class="org.eclipse.photran.internal.core.refactoring.MoveSavedToCommonBlockRefactoring"
         />
         <!--editorRefactoring
             class="org.eclipse.photran.internal.core.refactoring.MoveCommonToModuleRefactoring"
         /-->
      </group>
      <group><!-- Refactorings for performance/loop transformations -->
         <editorRefactoring
             class="org.eclipse.photran.internal.core.refactoring.InterchangeLoopsRefactoring"
         />
      </group>
      <group><!-- Refactorings that reformat code -->
         <resourceRefactoring
             class="org.eclipse.photran.internal.core.refactoring.RepObsOpersRefactoring"
         />
         <resourceRefactoring
             class="org.eclipse.photran.internal.core.refactoring.KeywordCaseRefactoring"
             inputPage="org.eclipse.photran.internal.ui.refactoring.KeywordCaseInputPage"
         />
      </group>
      <group><!-- Test Refactorings -->
         <editorRefactoring
             require_env="PHOTRAN_INCLUDE_TEST_REFACTORINGS"
             class="org.eclipse.photran.internal.core.refactoring.AddEmptySubprogramRefactoring"
         />
      </group>
   </extension>

   <!--=====================================-->
   <!-- Advanced Refactoring Configurations -->
   <!--=====================================-->

   <!-- If a refactoring was contributed as a "command" above... -->
   <!-- (usually, this is just so that we can associate a keybinding with it) -->

   <!-- 1. Define the command -->
   <extension
         point="org.eclipse.ui.commands">
      <category
            name="Fortran Refactoring Commands"
            id="org.eclipse.photran.ui.RefactoringCategory">
      </category>

      <command
            name="Rename..."
            categoryId="org.eclipse.photran.ui.RefactoringCategory"
            id="org.eclipse.photran.ui.RenameRefactoringCommand">
      </command>
      <command
            name="Extract Procedure..."
            categoryId="org.eclipse.photran.ui.RefactoringCategory"
            id="org.eclipse.photran.ui.ExtractProcedureRefactoringCommand">
      </command>
      <command
            name="Extract Local Variable..."
            categoryId="org.eclipse.photran.ui.RefactoringCategory"
            id="org.eclipse.photran.ui.ExtractLocalVariableRefactoringCommand">
      </command>
   </extension>

   <!-- 2. Optionally associate the command with an accelerator key -->
   <extension
         point="org.eclipse.ui.bindings">
     <key
            sequence="M3+M2+R"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.photran.ui.FortranEditorContext"
            commandId="org.eclipse.photran.ui.RenameRefactoringCommand"
     />
     <key
            sequence="M3+M2+M"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.photran.ui.FortranEditorContext"
            commandId="org.eclipse.photran.ui.ExtractProcedureRefactoringCommand"
     />
     <key
            sequence="M3+M2+L"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.photran.ui.FortranEditorContext"
            commandId="org.eclipse.photran.ui.ExtractLocalVariableRefactoringCommand"
     />
   </extension>

   <!-- 3. Add the command to Photran's Refactoring action set -->
   <extension point="org.eclipse.ui.actionSets">
      <actionSet
            label="Fortran Refactorings"
            description="Fortran Refactorings"
            visible="false"
            id="org.eclipse.photran.ui.RefactoringActionSet">

         <action
               label="Re&amp;name..."
               definitionId="org.eclipse.photran.ui.RenameRefactoringCommand"
               class="org.eclipse.photran.internal.ui.refactoring.RenameAction"
               id="org.eclipse.photran.ui.RenameRefactoringAction"/>
         <action
               label="E&amp;xtract Procedure..."
               definitionId="org.eclipse.photran.ui.ExtractProcedureRefactoringCommand"
               class="org.eclipse.photran.internal.ui.refactoring.ExtractProcedureAction"
               id="org.eclipse.photran.ui.ExtractProcedureRefactoringAction"/>
         <action
               label="Extract &amp;Local Variable..."
               definitionId="org.eclipse.photran.ui.ExtractLocalVariableRefactoringCommand"
               class="org.eclipse.photran.internal.ui.refactoring.ExtractLocalVariableAction"
               id="org.eclipse.photran.ui.ExtractLocalVariableRefactoringAction"/>
      </actionSet>
   </extension>

   <!-- Associate the Refactoring action set with the Fortran perspective & editor -->
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="org.eclipse.photran.ui.FortranPerspective">
         <actionSet id="org.eclipse.photran.ui.RefactoringActionSet"/>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.actionSetPartAssociations">
      <actionSetPartAssociation targetID="org.eclipse.photran.ui.RefactoringActionSet">
         <part id="org.eclipse.photran.ui.FreeFormFortranEditor"/>
         <!--part id="org.eclipse.photran.ui.FixedFormFortranEditor"/-->
      </actionSetPartAssociation>
   </extension>

   <!--==========================================-->
   <!-- Contribution to the Rephraser Engine UI -->
   <!--=========================================-->
   <!-- This will automatically add some actions to the (Debugging) sub-menu of the Refactor
        menu in the menu bar, such as Display VPG Database, Refresh VPG Database, etc. -->
   <extension
         point="org.eclipse.rephraserengine.ui.vpg.vpg">
      <vpg
         id="org.eclipse.photran.ui.vpg"
         name="Fortran"
         class="org.eclipse.photran.internal.ui.vpg.PhotranVPGContribution" />
   </extension>

   <!--=========================================-->
   <!-- Fortran-specific project property pages -->
   <!--=========================================-->
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            objectClass="org.eclipse.core.resources.IProject"
            adaptable="true"
            name="Analysis/Refactoring"
            class="org.eclipse.photran.internal.ui.properties.SearchPathsPropertyPage"
            id="org.eclipse.photran.ui.SearchPathsPropertyPage"
            category="org.eclipse.photran.ui.newui.Page_head_general">
         <!--filter
               name="nature"
               value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
         </filter-->
      </page>
   </extension>

   <!-- Commands, key bindings, and popup menu entries

        Each command should have its ID declared as a constant in AbstractFortranEditor, and
        it must be set up in AbstractFortranEditor#createActions().

        For menubarPath, see class ITextEditorActionConstants -->

   <!--  win32:  M1=CTRL,    M2=SHIFT, M3=ALT, M4=-
         carbon: M1=COMMAND, M2=SHIFT, M3=ALT, M4=CTRL -->

   <!--==================================-->
   <!-- Open Declaration (F3 or Ctrl+F3) -->
   <!--==================================-->
   <extension
         point="org.eclipse.ui.commands">
      <category
            name="Navigation"
            description="Navigation"
            id="org.eclipse.photran.ui.NavigationCategory">
      </category>
      <command
            categoryId="org.eclipse.photran.ui.NavigationCategory"
            description="Open Declaration"
            id="org.eclipse.photran.ui.OpenDeclarationCommand"
            name="Open Declaration">
      </command>
   </extension>
   <extension
            point="org.eclipse.ui.bindings">
      <!--  win32:  M1=CTRL,    M2=SHIFT, M3=ALT, M4=-
            carbon: M1=COMMAND, M2=SHIFT, M3=ALT, M4=CTRL -->
        <key
            sequence="F3"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.photran.ui.FortranEditorContext"
            commandId="org.eclipse.photran.ui.OpenDeclarationCommand"/>
        <key
            sequence="M1+F3"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.photran.ui.FortranEditorContext"
            commandId="org.eclipse.photran.ui.OpenDeclarationCommand"/>
   </extension>
   <extension point="org.eclipse.ui.actionSets">
      <actionSet
            label="Fortran Analysis Actions"
            description="Fortran Analysis Actions"
            visible="false"
            id="org.eclipse.photran.ui.AnalysisActionSet">
         <action
               label="&amp;Open Declaration"
               definitionId="org.eclipse.photran.ui.OpenDeclarationCommand"
               class="org.eclipse.photran.internal.ui.actions.OpenDeclaration"
               menubarPath="navigate/additions"
               id="org.eclipse.photran.ui.OpenDeclarationAction"/>
      </actionSet>
   </extension>
   <extension
         point="org.eclipse.ui.actionSetPartAssociations">
      <actionSetPartAssociation targetID="org.eclipse.photran.ui.AnalysisActionSet">
         <part id="org.eclipse.photran.ui.FreeFormFortranEditor"/>
         <part id="org.eclipse.photran.ui.FixedFormFortranEditor"/>
      </actionSetPartAssociation>
   </extension>
   <extension point="org.eclipse.ui.popupMenus">
     <viewerContribution
        targetID="#FixedFormFortranEditorContextMenu"
        id="org.eclipse.photran.ui.FixedNavigationContribution">
       <action
            class="org.eclipse.photran.internal.ui.actions.OpenDeclaration"
            definitionId="org.eclipse.photran.ui.OpenDeclarationCommand"
            id="org.eclipse.photran.ui.OpenDeclarationMenuAction"
            label="&amp;Open Declaration"
            menubarPath="group.open"/>
     </viewerContribution>
     <viewerContribution
        targetID="#FreeFormFortranEditorContextMenu"
        id="org.eclipse.photran.ui.FreeNavigationContribution">
       <action
            class="org.eclipse.photran.internal.ui.actions.OpenDeclaration"
            definitionId="org.eclipse.photran.ui.OpenDeclarationCommand"
            id="org.eclipse.photran.ui.OpenDeclarationMenuAction"
            label="&amp;Open Declaration"
            menubarPath="group.open"/>
     </viewerContribution>
   </extension>
   <!--================-->
   <!-- Fortran Search -->
   <!--================-->
   <extension
      id="vpgSearchPage"
      name="vpg search name"
      point="org.eclipse.search.searchPages">
     <page
        canSearchEnclosingProjects="true"
        class="org.eclipse.photran.internal.ui.search.VPGSearchPage"
        extensions="f:90,f90:90,f77:90"
        icon="icons/full/obj16/fsearch_obj.gif"
        id="org.eclipse.photran.ui.vpgSearchPage"
        label="Fortran Search"
        showScopeSection="true"
        sizeHint="460, 160"/>
   </extension>
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            description="Fortran Search"
            id="org.eclipse.photran.ui.vpg.SearchActionSet"
            label="Fortran Search">
         <action
               class="org.eclipse.photran.internal.ui.search.OpenFortranSearchPageAction"
               icon="icons/full/obj16/fsearch_obj.gif"
               id="org.eclipse.photran.ui.vpg.actions.OpenFortranSearchPage"
               label="F&amp;ortran..."
               menubarPath="org.eclipse.search.menu/dialogGroup">
         </action>
         <menu
               id="org.eclipse.search.menu"
               label="Se&amp;arch">
         </menu>
      </actionSet>
   </extension>
   <!--=====================-->
   <!-- Find All References -->
   <!--=====================-->
   <extension
         point="org.eclipse.search.searchResultViewPages">
      <viewPage
            class="org.eclipse.photran.internal.ui.search.ReferenceSearchViewPage"
            id="searchreferences.search.ReferenceSearchViewPage"
            searchResultClass="org.eclipse.photran.internal.ui.search.ReferenceSearchResult"/>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            name="Fortran Search"
            description="Fortran Search"
            id="org.eclipse.photran.ui.SearchCategory">
      </category>
      <command
            categoryId="org.eclipse.photran.ui.SearchCategory"
            description="Searches the workspace for all references to a Fortran identifier"
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesWorkspaceCommand"
            name="Find All References in Workspace" />
   </extension>
   <extension
            point="org.eclipse.ui.bindings">
        <!--win32:  M1=CTRL,    M2=SHIFT, M3=ALT, M4=-
            carbon: M1=COMMAND, M2=SHIFT, M3=ALT, M4=CTRL -->
        <!-- Bind Shift+Ctrl+G to References > Workspace -->
        <key
            sequence="M2+M1+G"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.photran.ui.FortranEditorContext"
            commandId="org.eclipse.photran.ui.vpg.FortranFindReferencesWorkspaceCommand"/>
   </extension>
   <extension point="org.eclipse.ui.actionSets">
      <actionSet
            label="Fortran Search Actions"
            description="Fortran Search Actions"
            visible="false"
            id="org.eclipse.photran.ui.SearchActionSet">
                <!-- Copied from org.eclipse.search plugin.xml to ensure menu and groups are present -->
	      	<menu
	            id="org.eclipse.search.menu"
	            label="Se&amp;arch"
	            path="navigate">
				<groupMarker name="internalDialogGroup"/>   <!-- not to be used by clients  -->
				<groupMarker name="dialogGroup"/>           <!-- to be used by clients      -->
				<separator name="fileSearchContextMenuActionsGroup"/> <!-- to be used by clients      -->
	         	<separator name="contextMenuActionsGroup"/> <!-- to be used by clients -->
	         	<separator name="occurencesActionsGroup"/> <!-- to be used by clients -->
	         	<separator name="extraSearchGroup"/> <!-- to be used by clients -->
	      	</menu>

         <menu
               id="org.eclipse.photran.ui.vpg.FortranFindReferencesMenu"
               label="R&amp;eferences"
               path="org.eclipse.search.menu/occurencesActionsGroup"><!-- See plugin.xml for org.eclipse.search -->
           <separator
               name="FindAllReferencesGroup">
           </separator>
         </menu>
      <action
            class="org.eclipse.photran.internal.ui.search.FortranFindReferencesFileActionDelegate"
            definitionId="org.eclipse.photran.ui.vpg.FortranFindReferencesFileCommand"
            icon="icons/full/obj16/search_ref_obj.gif"
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesFileAction"
            label="File"
            menubarPath="org.eclipse.search.menu/org.eclipse.photran.ui.vpg.FortranFindReferencesMenu/FindAllReferencesGroup">
      </action>
      <action
            class="org.eclipse.photran.internal.ui.search.FortranFindReferencesProjectActionDelegate"
            definitionId="org.eclipse.photran.ui.vpg.FortranFindReferencesProjectCommand"
            icon="icons/full/obj16/search_ref_obj.gif"
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesProjectAction"
            label="Project"
            menubarPath="org.eclipse.search.menu/org.eclipse.photran.ui.vpg.FortranFindReferencesMenu/FindAllReferencesGroup">
      </action>
      <action
            class="org.eclipse.photran.internal.ui.search.FortranFindReferencesWorkspaceActionDelegate"
            definitionId="org.eclipse.photran.ui.vpg.FortranFindReferencesWorkspaceCommand"
            icon="icons/full/obj16/search_ref_obj.gif"
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesWorkspaceAction"
            label="Workspace"
            menubarPath="org.eclipse.search.menu/org.eclipse.photran.ui.vpg.FortranFindReferencesMenu/FindAllReferencesGroup">
      </action>
      </actionSet>
   </extension>
   <extension
         point="org.eclipse.ui.actionSetPartAssociations">
      <actionSetPartAssociation targetID="org.eclipse.photran.ui.SearchActionSet">
         <part id="org.eclipse.photran.ui.FreeFormFortranEditor"/>
         <part id="org.eclipse.photran.ui.FixedFormFortranEditor"/>
      </actionSetPartAssociation>
   </extension>
   <extension point="org.eclipse.ui.popupMenus">
     <viewerContribution
         id="org.eclipse.photran.ui.vpg.FixedFortranFindReferencesContribution"
         targetID="#FixedFormFortranEditorContextMenu">
      <menu
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesMenu"
            label="Re&amp;ferences"
            path="group.search"><!-- See IContextMenuConstants -->
         <separator
               name="FindAllReferencesGroup">
         </separator>
      </menu>
      <action
            class="org.eclipse.photran.internal.ui.search.FortranFindReferencesFileActionDelegate"
            definitionId="org.eclipse.photran.ui.vpg.FortranFindReferencesFileCommand"
            icon="icons/full/obj16/search_ref_obj.gif"
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesFileAction"
            label="File"
            menubarPath="org.eclipse.photran.ui.vpg.FortranFindReferencesMenu/FindAllReferencesGroup">
      </action>
      <action
            class="org.eclipse.photran.internal.ui.search.FortranFindReferencesProjectActionDelegate"
            definitionId="org.eclipse.photran.ui.vpg.FortranFindReferencesProjectCommand"
            icon="icons/full/obj16/search_ref_obj.gif"
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesProjectAction"
            label="Project"
            menubarPath="org.eclipse.photran.ui.vpg.FortranFindReferencesMenu/FindAllReferencesGroup">
      </action>
      <action
            class="org.eclipse.photran.internal.ui.search.FortranFindReferencesWorkspaceActionDelegate"
            definitionId="org.eclipse.photran.ui.vpg.FortranFindReferencesWorkspaceCommand"
            icon="icons/full/obj16/search_ref_obj.gif"
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesWorkspaceAction"
            label="Workspace"
            menubarPath="org.eclipse.photran.ui.vpg.FortranFindReferencesMenu/FindAllReferencesGroup">
      </action>
     </viewerContribution>
     <viewerContribution
         id="org.eclipse.photran.ui.vpg.FreeFortranFindReferencesContribution"
         targetID="#FreeFormFortranEditorContextMenu">
      <menu
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesMenu"
            label="Re&amp;ferences"
            path="group.search"><!-- See IContextMenuConstants -->
         <separator
               name="FindAllReferencesGroup">
         </separator>
      </menu>
      <action
            class="org.eclipse.photran.internal.ui.search.FortranFindReferencesFileActionDelegate"
            definitionId="org.eclipse.photran.ui.vpg.FortranFindReferencesFileCommand"
            icon="icons/full/obj16/search_ref_obj.gif"
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesFileAction"
            label="File"
            menubarPath="org.eclipse.photran.ui.vpg.FortranFindReferencesMenu/FindAllReferencesGroup">
      </action>
      <action
            class="org.eclipse.photran.internal.ui.search.FortranFindReferencesProjectActionDelegate"
            definitionId="org.eclipse.photran.ui.vpg.FortranFindReferencesProjectCommand"
            icon="icons/full/obj16/search_ref_obj.gif"
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesProjectAction"
            label="Project"
            menubarPath="org.eclipse.photran.ui.vpg.FortranFindReferencesMenu/FindAllReferencesGroup">
      </action>
      <action
            class="org.eclipse.photran.internal.ui.search.FortranFindReferencesWorkspaceActionDelegate"
            definitionId="org.eclipse.photran.ui.vpg.FortranFindReferencesWorkspaceCommand"
            icon="icons/full/obj16/search_ref_obj.gif"
            id="org.eclipse.photran.ui.vpg.FortranFindReferencesWorkspaceAction"
            label="Workspace"
            menubarPath="org.eclipse.photran.ui.vpg.FortranFindReferencesMenu/FindAllReferencesGroup">
      </action>
     </viewerContribution>
   </extension>

   <!--=======================================-->
   <!-- Debugging Actions in Refactoring Menu -->
   <!--=======================================-->
   <extension point="org.eclipse.ui.actionSets">
      <actionSet
            label="Fortran Debug Actions"
            description="Fortran Debug Actions"
            visible="false"
            id="org.eclipse.photran.ui.DebugActionSet">
         <menu
               label="Refac&amp;tor"
               path="edit"
               id="org.eclipse.jdt.ui.refactoring.menu">
            <separator name="scriptGroup"/>
         </menu>

         <menu
               label="(&amp;Debugging)"
               path="org.eclipse.jdt.ui.refactoring.menu/scriptGroup"
               id="debugging">
            <separator name="debugging"/>
            <separator name="debugginginterfaces"/>
            <separator name="vpgstats"/>
            <separator name="vpgdb"/>
         </menu>
         <action
               label=""
               definitionId="org.eclipse.photran.ui.EasterEggCommand"
               class="org.eclipse.photran.internal.ui.actions.EasterEggAction"
               id="org.eclipse.photran.ui.EasterEggAction"/>
         <!-- -->
         <action
               label="Find Matching &amp;Interface Declarations"
               class="org.eclipse.photran.internal.ui.actions.FindMatchingInterfaceDeclarations"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/debugging/debugginginterfaces"
               id="org.eclipse.photran.ui.FindMatchingInterfaceDeclarationsAction"/>
         <action
               label="Resolve &amp;Interface Binding"
               class="org.eclipse.photran.internal.ui.actions.ResolveInterfaceBinding"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/debugging/debugginginterfaces"
               id="org.eclipse.photran.ui.ResolveInterfaceBindingAction"/>
         <!-- -->
         <action
               label="Select &amp;Enclosing Scope"
               class="org.eclipse.photran.internal.ui.actions.SelectEnclosingScope"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/debugging/debugging"
               id="org.eclipse.photran.ui.FindEnclosingScopeAction"/>
         <action
               label="&amp;Find All Declarations in Scope"
               class="org.eclipse.photran.internal.ui.actions.FindAllDeclarationsInScope"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/debugging/debugging"
               id="org.eclipse.photran.ui.FindAllDeclarationsInScopeAction"/>
         <action
               class="org.eclipse.photran.internal.ui.actions.DisplaySymbolTable"
               id="org.eclipse.photran.ui.DisplaySymbolTableAction"
               label="Display Symbol &amp;Table for Current File"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/debugging/debugging"/>
         <!-- -->
         <action
               class="org.eclipse.photran.internal.ui.actions.ResetBinderStatistics"
               id="org.eclipse.photran.ui.ResetBinderStatisticsAction"
               label="&amp;Reset Binder Statistics"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/debugging/vpgstats"/>
         <action
               class="org.eclipse.photran.internal.ui.actions.DisplayBinderStatistics"
               id="org.eclipse.photran.ui.DisplayBinderStatisticsAction"
               label="Display Binder &amp;Statistics"
               menubarPath="org.eclipse.jdt.ui.refactoring.menu/debugging/vpgstats"/>
      </actionSet>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            name="Easter Egg"
            categoryId="org.eclipse.photran.ui.RefactoringCategory"
            id="org.eclipse.photran.ui.EasterEggCommand">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
      <!--  win32:  M1=CTRL,    M2=SHIFT, M3=ALT, M4=-
            carbon: M1=COMMAND, M2=SHIFT, M3=ALT, M4=CTRL -->
     <key
            sequence="M1+M2+M3+M4+6"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            contextId="org.eclipse.photran.ui.FortranEditorContext"
            commandId="org.eclipse.photran.ui.EasterEggCommand"
     />
   </extension>
   <extension
         point="org.eclipse.ui.actionSetPartAssociations">
      <actionSetPartAssociation targetID="org.eclipse.photran.ui.DebugActionSet">
         <part id="org.eclipse.photran.ui.FreeFormFortranEditor"/>
         <part id="org.eclipse.photran.ui.FixedFormFortranEditor"/>
      </actionSetPartAssociation>
   </extension>

   <!--==============-->
   <!-- Refactorings -->
   <!--==============-->

   <!--==========================================-->
   <!-- Experimental Editor with VPG Integration -->
   <!--==========================================-->
   <extension
         point="org.eclipse.ui.editors"
         id="org.eclipse.photran.ui.VPGFortranEditor">

      <!-- Since freeFormFortranSource and fixedFormFortranSource are "sub-content types" of fortranSource,
           we will bind both editors to the fortranSource content type; however, whichever content type
           binding is given first will be "tighter" and used as the default.
           That way, fixed form files will open in the fixed form editor by default, but they can also
           be opened in the free form editor (right click, and choose Open With).  Similarly, free form files
           can be opened in the fixed form editor. -->
      <!--editor
            default="false"
            name="Fortran Editor (VPG Experimental Features)"
            icon="icons/full/obj16/f_file_obj.gif"
            class="org.eclipse.photran.internal.ui.editor_vpg.OldExperimentalFreeFormFortranEditor"
            contributorClass="org.eclipse.ui.texteditor.BasicTextEditorActionContributor"
            id="org.eclipse.photran.ui.FreeFormVPGEditor">
         <contentTypeBinding
              contentTypeId="org.eclipse.photran.core.freeFormFortranSource" />
         <contentTypeBinding
              contentTypeId="org.eclipse.photran.core.fortranSource" />
      </editor-->
   </extension>

   <!--==================-->
   <!-- Declaration View -->
   <!--==================-->
   <!--
 		Added for the Declaration view Project
 		@author John Goode, Abe Hassan, Sean Kim
 		Group: Fennel-Garlic
 		University of Illinois at Urbana-Champaign
 		CS 427 Fall 2007  -->
   <extension
         point="org.eclipse.ui.views">
      <category
            id="org.eclipse.photran.ui.views"
            name="Fortran Views">
      </category>
      <view
            category="org.eclipse.photran.ui.views"
            class="org.eclipse.photran.internal.ui.views.DeclarationView"
            icon="icons/full/eview16/source.gif"
            id="org.eclipse.photran.ui.DeclarationView"
            name="Fortran Declaration">
      </view>

      <!--TODO: Need to find a better icon for this view-->
      <view
            category="org.eclipse.photran.ui.views"
            class="org.eclipse.photran.internal.ui.views.vpgproblems.VGPProblemView"
            icon="icons/full/eview16/source.gif"
            id="org.eclipse.photran.ui.VGPProblemView"
            name="Fortran Analysis/Refactoring Problems">
      </view>
   </extension>
       <!--
   <extension
      point="org.eclipse.ui.ide.markerSupport">
      <markerField
               class="org.eclipse.photran.internal.ui.views.ProjectField"
                   id="com.eclipse-tips.markers.projectField"
                   name="Project">
      </markerField>
          <markerContentGenerator
                id="org.eclipse.photran.ui.vpg.myCustomMarkerGenerator"
                name="My Marker Generator">
               <markerTypeReference
                   id="org.eclipse.core.resources.marker"/>
               <markerFieldReference
                   id="org.eclipse.ui.ide.descriptionField"/>
                       <markerFieldReference
                       id="com.eclipse-tips.markers.projectField"/>
           </markerContentGenerator>
       </extension>
    -->


   <!--=================================-->
   <!-- VPG Source Viewer Configuration -->
   <!--=================================-->
   <extension
   	point="org.eclipse.photran.ui.sourceViewerConfig">
   	<sourceViewerConfig
          factory="org.eclipse.photran.internal.ui.editor_vpg.FortranVPGSourceViewerConfigurationFactory" />
   </extension>
</plugin>
