% Release and Deployment Procedure

\textit{Most contributors/committers do not need to read this.  This explains
our entire release and deployment procedure: setting the Photran version
number, building the feature, uploading it to the download site, etc.}

\section{Preparing for a Release Build}

\begin{enumerate}

\item Proofread the documentation on the wiki.

\item Update the plug-in version numbers in all projects.

\item Update the feature.xml and feature.properties files for
    \begin{itemize}
    \item org.eclipse.photran-feature
    \item org.eclipse.photran.intel-feature
    \item org.eclipse.photran.xlf-feature
    \item org.eclipse.rephraserengine-feature
    \end{itemize}
    and change
    \begin{enumerate}
    \item the feature version
    \item the versions of other features/plug-ins it depends on
          (e.g., Photran depends on the Rephraser Engine and CDT, and
          Intel Compiler Support depends on Photran).
    \item the copyright year
    \item the update site URL
    \end{enumerate}

\item If the VPG database structure (or any of the serialized classes) have
changed, update
    \begin{itemize}
    \item the VPG database filename in the PhotranVPGDB class constructor and
    \item the VPG log filename in the PhotranVPGLog class constructor.
    \end{itemize}
For example, in Photran 4.0 beta 5, the database filename was ``photran40b5vpg''.

\item Make sure the org.eclipse.ptp.releng scripts have the correct versions.

\item Greg Watson will initiate a PTP build at build.eclipse.org.

\end{enumerate}

\section{After the Release Has Been Built}

\begin{enumerate}

\item Update the timeline in this guide's Release History appendix
(org.eclipse.photran-dev-docs/dev-guide/app-history.ltx-inc)

\item Create a maintenance branch for the org.eclipse.photran module in CVS.
      For example, a photran\_5\_0 branch was created after the Photran 5.0.0 release
      and was subsequently used to build Photran 5.0.1, etc.

\item Add a Bugzilla version for the release and a target for the next expected release

\item Update the Web site:
    \begin{enumerate}
    \item Update the home page to mention the release
    \item Change the update site URL and archived update site link on the Downloads page
    \item Update the Report a Bug URL in the nav bar to default to the new release version
    \end{enumerate}

\item Announce the release, e-mailing the photran, photran-dev, and ptp-announce mailing lists

\item Copy the Documentation pages on the wiki and update the version numbers for the next expected release

\end{enumerate}
